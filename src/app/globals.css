@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 0%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 0%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 0%;
    --primary: 0 0% 0%;
    --primary-foreground: 0 0% 100%;
    --secondary: 0 0% 95%;
    --secondary-foreground: 0 0% 0%;
    --muted: 0 0% 95%;
    --muted-foreground: 0 0% 40%;
    --accent: 0 0% 95%;
    --accent-foreground: 0 0% 0%;
    --destructive: 0 0% 0%;
    --destructive-foreground: 0 0% 100%;
    --border: 0 0% 0%;
    --input: 0 0% 90%;
    --ring: 0 0% 0%;
    --radius: 0.5rem;

    --status-complete: 140, 70%, 80%;
    --status-processing: 202, 70%, 80%;

    --collaborator-color: var(--collaborator-color-pastel);
  }

  .dark {
    --background: 0 0% 0%;
    --foreground: 0 0% 100%;
    --card: 0 0% 0%;
    --card-foreground: 0 0% 100%;
    --popover: 0 0% 0%;
    --popover-foreground: 0 0% 100%;
    --primary: 0 0% 100%;
    --primary-foreground: 0 0% 0%;
    --secondary: 0 0% 5%;
    --secondary-foreground: 0 0% 100%;
    --muted: 0 0% 5%;
    --muted-foreground: 0 0% 60%;
    --accent: 0 0% 5%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 0% 100%;
    --destructive-foreground: 0 0% 0%;
    --border: 0 0% 100%;
    --input: 0 0% 10%;
    --ring: 0 0% 100%;

    --status-complete: 140, 85%, 55%;
    --status-processing: 202, 85%, 55%;

    --collaborator-color: var(--collaborator-color-vibrant);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@layer components {
  /* Popover width constraints - exclude dropdown menus */
  .searchable-popover-content,
  [data-radix-popper-content-wrapper]:not(:has(.color-picker-popover)):not(:has([role="menu"])),
  [data-radix-popper-content-wrapper]:not(:has(.color-picker-popover)):not(:has([role="menu"])) > div,
  [data-radix-portal] [data-radix-popover-content]:not(.color-picker-popover):not([role="menu"]),
  .w-72.searchable-popover-content {
    width: 200px !important;
    min-width: 200px !important;
    max-width: 200px !important;
  }
  
  .color-picker-popover {
    width: 384px !important;
    min-width: 384px !important;
    max-width: 384px !important;
  }
  /* Table hover effects */
  .menus-hover .menus-col,
  .sizes-hover .sizes-col,
  .modifiers-hover .modifiers-col {
    background-color: var(--hover-bg-color) !important;
    color: var(--hover-text-color) !important;
  }

  /* Enhanced resize handle styling */
  [data-panel-resize-handle-enabled] {
    transition: all 200ms ease-in-out;
    cursor: col-resize;
    background-color: rgb(156, 163, 175) !important; /* True grey (gray-400) */
  }

  [data-panel-resize-handle-enabled]:hover,
  [data-panel-resize-handle-enabled]:active,
  [data-panel-resize-handle-enabled][data-panel-resize-handle-active] {
    background-color: hsl(var(--primary)) !important;
  }

  [data-panel-resize-handle-enabled]:hover { width: 3px !important; }
  [data-panel-resize-handle-enabled]:active,
  [data-panel-resize-handle-enabled][data-panel-resize-handle-active] { width: 4px !important; }

  [data-panel-resize-handle-enabled]::after {
    transition: all 200ms ease-in-out !important;
    background-color: rgb(156, 163, 175) !important; /* True grey (gray-400) */
  }

  [data-panel-resize-handle-enabled]:hover::after {
    background-color: hsl(var(--primary)) !important;
    width: 6px !important;
  }

  [data-panel-resize-handle-enabled]:active::after,
  [data-panel-resize-handle-enabled][data-panel-resize-handle-active]::after {
    background-color: hsl(var(--primary)) !important;
    width: 8px !important;
  }

  [data-panel-resize-handle-enabled][data-panel-resize-handle-active] {
    opacity: 1 !important;
  }
}
